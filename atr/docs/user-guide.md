# 2. User guide

**Up**: [Documentation](.)

**Prev**: `1.` [Introduction to ATR](introduction-to-atr)

**Next**: `3.` [Developer guide](developer-guide)

**Pages**:

* `2.1.` [Components](components)
* `2.2.` [Signing artifacts](signing-artifacts)
* `2.3.` [License checks](license-checks)

**Sections**:

* [Introduction](#introduction)
* [License Checks and Exclusions](#license-checks-and-exclusions)

## Introduction

This is a work in progress. Meanwhile, you can read the [ATR tutorial](/tutorial).

## License Checks and Exclusions

ATR performs license checks on release artifacts to ensure compliance with ASF policies. There are two types of checks: the comprehensive Apache RAT check and a lightweight license check. Both checks have mechanisms to identify and exclude generated source files.

### Apache RAT Check

The Apache RAT (Release Audit Tool) check scans all files in the archive.

#### Automatically Excluded Patterns

The following file patterns are automatically identified as generated and excluded from the RAT check:

* `**/*.bundle.js`
* `**/*.chunk.js`
* `**/*.css.map`
* `**/*.js.map`
* `**/*.min.css`
* `**/*.min.js`
* `**/*.min.map`

#### Standard Exclusions

The check also automatically excludes:

* Standard SCM directories (e.g., `.git`, `.svn`)
* IDE configuration files (if no project-specific exclusion file is provided)

#### Custom Exclusions

Projects can define custom exclusions by placing a `.rat-excludes` file in the root of the archive. This file should contain a list of file patterns to exclude.

### Lightweight License Check

The lightweight license check inspects source files for valid license headers. It uses a different set of criteria to identify generated files.

#### Content-Based Exclusions

Files are considered generated and valid (skipped) if their first 4KB of content includes one of the following markers:

* `Generated By:JJTree`
* `Generated By:JavaCC`

#### Included File Types

Unlike RAT, the lightweight check relies on an allowlist of file extensions (e.g., `.js`, `.py`, `.java`, etc.). Files with extensions not in the allowlist are ignored by default.
